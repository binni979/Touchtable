<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display a Veda data on a webpage</title>

    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="main.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">

  </head>
  <body>
  <div id = "menu">
        <a href="index.html">Full map</a>
         <span id="reset" class="reset-btn"><i class="fas fa-undo"></i></span>
        <a href="four-maps.html">Four maps</a>
  </div>
    <div id="container">
    <div class="map-container">
        <div id="map1" class="map"></div>
        <div class="button-container left">
            <div id="datepickertest">

            </div>
            <div class="dropdown">
                <button id="dropdown1" class="dropbtn">Veda Data</button>
                <div class="dropdown-content">
                    <select id="layers1" multiple></select>
                    <input type="date" id="datePicker1">
                    <button class="submit">Submit</button>
                </div>
            </div>
        </div>
        <div id="legend1" class="legend"></div>
    </div>
    <div class="map-container">
        <div id="map2" class="map"></div>
        <div class="button-container right">
            <div class="dropdown">
                <button id="dropdown2" class="dropbtn">Veda Data</button>
                <div class="dropdown-content">
                    <select id="layers2" multiple></select>
                    <input type="date" id="datePicker2">
                    <button class="submit">Submit</button>
                </div>
            </div>
        </div>
        <div id="legend2" class="legend"></div>
    </div>
    <div class="map-container">
        <div id="map3" class="map"></div>
        <div class="button-container left">
            <div class="dropdown">
                <button id="dropdown3" class="dropbtn">Veda Data</button>
                <div class="dropdown-content">
                    <select id="layers3" multiple></select>
                    <input type="date" id="datePicker3">
                    <button class="submit">Submit</button>
                </div>
            </div>
        </div>
        <div id="legend3" class="legend"></div>
    </div>
    <div class="map-container">
        <div id="map4" class="map"></div>
        <div class="button-container right">
            <div class="dropdown">
                <button id="dropdown4" class="dropbtn">Veda Data</button>
                <div class="dropdown-content">
                    <select id="layers4" multiple></select>
                    <input type="date" id="datePicker4">
                    <button class="submit">Submit</button>
                </div>
            </div>
        </div>
        <div id="legend4" class="legend"></div>
    </div>
</div>
  <script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiYmluaXRhZ3lhd2FsaSIsImEiOiJjbGluNW5qM3IwOGt5M2hvMXJ6NW9vZno5In0.cQNTdD6Rzt7-zq1GHMe-3w';

const INITIAL_CENTER_ZOOM_STYLE = [
    { latitude: 46.40, longitude: -115.06, zoom: 4.2, style: "mapbox://styles/binitagyawali/clivtsgt400nv01qif6ja7r0m" },
    { latitude: 46.40, longitude: -82.06, zoom: 4.2, style: "mapbox://styles/binitagyawali/clivtsgt400nv01qif6ja7r0m" },
    { latitude: 29, longitude: -115.06, zoom: 4.2, style: "mapbox://styles/binitagyawali/clivtsgt400nv01qif6ja7r0m" },
    { latitude: 29, longitude: -82.06, zoom: 4.2, style: "mapbox://styles/binitagyawali/clivtsgt400nv01qif6ja7r0m" }
];

const maps = [];
const adjustCenter = () => {
    const screenWidth = window.innerWidth;
    const screenHeight = window.innerHeight;

    INITIAL_CENTER_ZOOM_STYLE.forEach((data, index) => {
        const mapContainer = document.getElementById(`map${index + 1}`);
        mapContainer.style.width = `${screenWidth / 2}px`; // Adjusted width
        mapContainer.style.height = `${screenHeight / 2}px`; // Adjusted height

        const map = new mapboxgl.Map({
            container: `map${index + 1}`,
            style: data.style,
            minZoom: 3.5,
            attributionControl: false
        });

        map.on('load', () => {
            let bounds;

            if (index < 2) {
                bounds = [
                    [data.longitude - 15.2, data.latitude - 1], // Adjusted lower bound latitude
                    [data.longitude + 18, data.latitude + 7]  // Adjusted upper bound latitude
                ];
            } else {
                bounds = [
                    [data.longitude - 15.2, data.latitude -7],
                    [data.longitude + 18, data.latitude + 5]
                ];
            }

            map.fitBounds(bounds, { padding: 0 });

            maps.push(map);
        });
    });
};

adjustCenter();

</script>
  <script src="main-script.js"></script>
  <script>

  </script>
</body>
</html>
